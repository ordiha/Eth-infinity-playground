// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;
contract RandomPay {
    address[] public participants;
    function enter() external payable { participants.push(msg.sender); }
    function payRandom() external {
        require(participants.length>0,"none");
        uint idx = uint(keccak256(abi.encodePacked(block.timestamp, block.prevrandao, participants.length))) % participants.length;
        payable(participants[idx]).transfer(address(this).balance);
        delete participants;
    }
    function count() external view returns(uint){ return participants.length; }
}
